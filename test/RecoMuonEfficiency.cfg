process EFF = {

	source = PoolSource { 
        untracked vstring fileNames = {"file:reco.root"}
        #untracked vstring fileNames ={"file:exampleRunAllOutput.root"}
        #untracked vstring fileNames ={"file:dblh.root"}


                untracked int32 MaxEvents = -1
         }
# magnetic field
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

# geometry
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
include "Geometry/DTGeometry/data/dtGeometry.cfi"
include "Geometry/CSCGeometry/data/cscGeometry.cfi"
include "Geometry/RPCGeometry/data/rpcGeometry.cfi"
include "Geometry/CommonDetUnit/data/bareGlobalTrackingGeometry.cfi"
include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"
include "RecoMuon/DetLayers/data/muonDetLayerGeometry.cfi"

# Tracking Tools
include "TrackingTools/KalmanUpdators/data/KFUpdatorESProducer.cfi"
#include "TrackingTools/KalmanUpdators/data/Chi2MeasurementEstimatorESProducer.cfi"
include "TrackingTools/TrackFitters/data/KFTrajectoryFitterESProducer.cfi"
include "TrackingTools/TrackFitters/data/KFTrajectorySmootherESProducer.cfi"
include "TrackingTools/TrackFitters/data/KFFittingSmootherESProducer.cfi"
include "TrackingTools/MaterialEffects/data/MaterialPropagator.cfi"
include "TrackingTools/MaterialEffects/data/OppositeMaterialPropagator.cfi"
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAlong.cfi"
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorOpposite.cfi"
include "TrackPropagation/SteppingHelixPropagator/data/SteppingHelixPropagatorAny.cfi"
include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
include "RecoLocalTracker/SiPixelRecHits/data/PixelCPEParmError.cfi"
include "RecoTracker/TransientTrackingRecHit/data/TransientTrackingRecHitBuilder.cfi"
include "RecoTracker/TransientTrackingRecHit/data/TransientTrackingRecHitBuilderWithoutRefit.cfi"

        //es_module = MuonDetLayerGeometryESProducer { }	

        module evtInfo = AsciiOutputModule {}

 	module RecoMuonEff = RecoMuonEfficiency {
	 int32   partId= 13 #-13
	 untracked InputTag  GLBtracks = globalMuons
	 untracked InputTag  STAtracks = standAloneMuons
	 untracked InputTag  TKtracks = ctfWithMaterialTracks
	 untracked InputTag  G4tracks  = g4SimHits
	 untracked InputTag  simVtx    = g4SimHits
	 #untracked InputTag  G4tracks  = SimG4Object
	 #untracked InputTag  simVtx    = SimG4Object
	 string  out   = "RecoMuonEfficiency_single.root"
	 string  open  = "recreate"
	 double  ptmin    = 3.0
	 double  etamin   = -2.5
	 double  etamax   = 2.5
	 int32   nbins    = 25
	
    	PSet ServiceParameters = {
       		untracked vstring Propagators = {
        		 "SteppingHelixPropagatorAny",
         		 "PropagatorWithMaterial",
         		 "PropagatorWithMaterialOpposite"
       		}	
    	}	

        }

 	module RecoMuonEff_new = RecoMuonEfficiency_new {
	 int32   partId= 13 #-13
	 untracked InputTag  GLBtracks = globalMuons
	 untracked InputTag  STAtracks = standAloneMuons
	 untracked InputTag  G4tracks  = g4SimHits
	 untracked InputTag  simVtx    = g4SimHits
	 #untracked InputTag  G4tracks  = SimG4Object
	 #untracked InputTag  simVtx    = SimG4Object
	 string  out   = "RecoMuonEfficiency_single.root"
	 string  open  = "recreate"
	 double  ptmin    = 3.0
	 double  etamin   = -2.5
	 double  etamax   = 2.5
	 int32   nbins    = 25
	
    	PSet ServiceParameters = {
       		untracked vstring Propagators = {
        		 "SteppingHelixPropagatorAny",
         		 "PropagatorWithMaterial",
         		 "PropagatorWithMaterialOpposite"
       		}	
    	}	

        }

	path p = {RecoMuonEff}

        endpath ep = {
         evtInfo
        }
}
